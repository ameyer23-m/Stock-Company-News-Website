{% extends "layout.html" %}

{% block dropdown %}
<div class="col-md-4">
  <div class="dropdown-section {% if hide_dropdown %}hidden{% endif %}">
    Select Stock Symbol:
    <select class="select" id="company-select" onchange="location = this.value;">
        <option value="" selected hidden>Select Here</option>
        {% for company in companies %}
        <option value="/{{ company }}">{{ company }}</option>
        {% endfor %}
    </select>
</div>
{% endblock dropdown %}

{% block title %}
    <div class="content-section">
        <h1>{{ company_name }}</h1>
        <div>
            <div style="display: block;"><a>Stock: {{ company }}</a></div>
            <div style="display: block;"><a>CEO: {{ company_ceo }}</a></div>
            {% if company_founded_date %}
                <div style="display: block;"><a>Founded Date: {{ company_founded_date.strftime('%B %d, %Y') }}</a></div>
            {% endif %}
            <div style="display: block;"><a>Founded Location: {{ company_founded_location }}</a></div>
            <div style="display: block;"><a>Industry: {{ company_industry }}</a></div>
        </div>
    </div>
{% endblock %}


{% block content %}
    <!-- {% include 'navbar.html' %} -->
    <div class="flex-container">
        <h1 class="company_name">{{ company_name }} ({{ company }})</h1>
        {% if 'user_id' in session %}
            {% if favorites_db.is_favorite(user_id, company_id) %}
                <div class="remove_fav">
                    <form method="POST" action="{{ url_for('task_list_blueprint.remove_fav', company=company) }}">
                        <button class="remove_to_favorites" type="submit">Remove from Favorites</button>
                    </form>
                </div>
            {% else %}
                <div class="add_fav">
                    <form method="POST" action="{{ url_for('task_list_blueprint.add_fav', company=company) }}">
                        <button class="add_to_favorites" type="submit">Add to Favorites</button>
                    </form>
                </div>
            {% endif %}
        {% endif %}
    </div>    
    <p>Recent News</p>
    {% for news in news %}
        <article class="media content-section">
        <div class="media-body">
            <div class="article-metadata">
            <a class="writer" href="#">{{ news.writer }}</a>
            <small class="text-muted">{{ news.date.strftime('%B %d, %Y') }}</small>
            </div>
            <h2><a class="article-title" href="#">{{ news.article }}</a></h2>
            <p class="article-content">{{ news.publisher }}</p>
        </div>
        </article>
    {% endfor %}
{% endblock %}

